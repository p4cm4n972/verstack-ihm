<div class="chart-wrapper">
  <!-- Ã‰tat de chargement -->
  @if (isLoading) {
    <div class="loading-state">
      <div class="spinner"></div>
      <p>Chargement des donnÃ©es...</p>
    </div>
  }

  <!-- Ã‰tat d'erreur -->
  @if (error && !isLoading) {
    <div class="error-state">
      <p class="error-message">{{ error }}</p>
      <button (click)="refreshData()" class="retry-button">
        RÃ©essayer
      </button>
    </div>
  }

  <!-- Contenu principal (graphique et filtres) -->
  @if (!isLoading && !error) {
    <div class="chart-content">
      <!-- Filtres -->
      <div class="filter-container">
        <label for="yearFilter">Filtrer par annÃ©e :</label>
        <select id="yearFilter" (change)="onYearChange($event)">
          <option value="animation">2015-2025 (Animation)</option>
          <option value="2025">2025</option>
          <option value="2024">2024</option>
          <option value="2023">2023</option>
          <option value="2022">2022</option>
          <option value="2021">2021</option>
          <option value="2020">2020</option>
          <option value="2019">2019</option>
          <option value="2018">2018</option>
          <option value="2017">2017</option>
          <option value="2016">2016</option>
          <option value="2015">2015</option>
        </select>
      </div>

      <!-- Graphique -->
      <div class="chart-container">
        <canvas id="languageChart"></canvas>
      </div>

      <!-- Sources -->
      <div id="sources-container"></div>

      <!-- Bouton de rafraÃ®chissement -->
      <div class="refresh-button-container">
        <button (click)="refreshData()" class="refresh-button">
          ðŸ”„ Actualiser les donnÃ©es
        </button>
      </div>
    </div>
  }
</div>