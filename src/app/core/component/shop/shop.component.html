<div class="shop-layout">
  <aside class="ads-left" style="display: block !important;">
    <img src="assets/icons/logo-red-squiggly-01.png" alt="logo Red Squiggly" width="150" style="margin-top: 3rem;" />
    <p>code it - wear it !</p>
    <ins class="" style="display:block"  data-full-width-responsive="true"></ins>
  </aside>
  @if(!isLoadingAll){
  <div class="loader-overlay">
    <div class="retro-loader red">
      <div class="dots">
        <span>.</span><span>.</span><span>.</span><span>.</span><span>.</span>
      </div>
      <p class="retro-text">Chargement des produits...</p>
    </div>
  </div>}
  <ng-container id="image-wrapper" [class.dimmed]="isLoadingAll">

    <section>


      <div class="products-wrapper">

        <div class="product-grid">
          @for(product of pagedProducts; track product) {
          <ng-container class="">
            <mat-card class="product-card" appearance="outlined">
              <button mat-icon-button class="open-btn" (click)="gotoItems(product)">
                <mat-icon>open_in_new</mat-icon>
              </button>

              <app-shopify-buy-button class="product-card" [productId]="product.id"
                [componentId]="'product-component-' + product.component" (loaded)="onProductLoaded()">
              </app-shopify-buy-button>
            </mat-card>
          </ng-container>
          }
        </div>
      </div>
      <mat-paginator class="pagination" [length]="getProduitsFiltres().length" [pageSize]="pageSize"
        [pageSizeOptions]="[28, 56, 84, 100]" (page)="onPageChange($event)" aria-label="Select page">
      </mat-paginator>
    </section>
  </ng-container>

  <aside class="ads-right">
    <div class="tabs" >
      @for(cat of categories; track cat){
      <div class="tab" [class.active]="cat === activeCategory" (click)="setCategorie(cat)">
        {{ cat }}
        @if(cat === activeCategory) {
        <div class="squiggly">
        </div>}
      </div>}
    </div>
    <ins class="" style="display:block"  data-full-width-responsive="true"></ins>
  </aside>
</div>



<!--  <div class="category-filter">
      <mat-form-field appearance="fill">
        <mat-label>Catégorie</mat-label>
        <mat-select [(value)]="selectedCategory" (selectionChange)="applyFilter()">
          <mat-option value="">Toutes</mat-option>
          <mat-option *ngFor="let cat of categories" [value]="cat">{{ cat }}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>-->
<!--<section class="shop-container">
    <mat-tab-group animationDuration="2000ms">
        <mat-tab label="Hommes">

        </mat-tab>
        <mat-tab label="Femmes">

        </mat-tab>
        <mat-tab label="Accessoires">

        </mat-tab>
        <mat-tab label="Maison et Déco">

        </mat-tab>
        <mat-tab label="Jouets">

        </mat-tab>
    </mat-tab-group>
</section>-->