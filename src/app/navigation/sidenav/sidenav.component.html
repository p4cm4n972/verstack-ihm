<mat-nav-list>
    <a mat-list-item routerLink="/home" (click)="onSidenavClose()" *isDesktopOnly>
        <mat-icon>home</mat-icon> <span class="nav-caption">accueil</span>
    </a>
    <a mat-list-item routerLink="/version" (click)="onSidenavClose()" *isDesktopOnly>
        <mat-icon>devices</mat-icon> <span class="nav-caption">stack</span>
    </a>

    <a mat-list-item routerLink="/stat" (click)="onSidenavClose()" *isDesktopOnly>
        <mat-icon>insert_chart</mat-icon> <span class="nav-caption">évolution</span>
    </a>


    <a mat-list-item routerLink="/news" (click)="onSidenavClose()" *isDesktopOnly>
        <mat-icon>newspaper</mat-icon> <span class="nav-caption">actualités</span>
    </a>
    
    <a mat-list-item routerLink="/manifeste" (click)="onSidenavClose()" *isMobileOnly>
        <mat-icon>history_edu</mat-icon> <span class="nav-caption">Le Manifeste</span>
    </a>

    <a mat-list-item routerLink="/shop" (click)="onSidenavClose()" *isDesktopOnly>
        <mat-icon>storefront</mat-icon> <span class="nav-caption">boutique</span>
    </a>
    <a mat-list-item routerLink="/admin" (click)="onSidenavClose()" *isDesktopOnly [hidden]="!isAdmin">
        <mat-icon>admin_panel_settings</mat-icon> <span class="nav-caption">admin</span>
    </a>


    @if(isAuthenticated === null){
        <!-- Loading state during SSR hydration - show nothing -->
    } @else if(isAuthenticated === true){
        <a mat-list-item routerLink="/profile" (click)="onSidenavClose()" *isDesktopOnly>
            <mat-icon>assignment_ind</mat-icon> <span class="nav-caption">Profile</span>
        </a>
        @if(!isSubscriber && !isAdmin){
            <a mat-list-item routerLink="/subscription" (click)="onSidenavClose()" *isDesktopOnly class="premium-link">
                <mat-icon>workspace_premium</mat-icon> <span class="nav-caption">Premium - Sans pub</span>
            </a>
        }
        @if(isSubscriber){
            <a mat-list-item routerLink="/subscription" (click)="onSidenavClose()" *isDesktopOnly class="subscriber-badge">
                <mat-icon>workspace_premium</mat-icon> <span class="nav-caption">Mon abonnement</span>
            </a>
        }
        <a mat-list-item (click)="logout()" (click)="onSidenavClose()" *isDesktopOnly>
            <mat-icon>logout</mat-icon><span class="nav-caption">Déconnexion</span>
        </a>
    } @else {
        <a mat-list-item routerLink="/signup" (click)="onSidenavClose()" *isDesktopOnly>
            <mat-icon>account_balance</mat-icon><span class="nav-caption">Sign up</span>
        </a>
    }
    <!-- <mat-list-item [matMenuTriggerFor]="menu">
        <mat-icon>unfold_more</mat-icon>
        <a matline>Example</a>
    </mat-list-item>
    <mat-menu #menu="matMenu">
      <button mat-menu-item (click)="onSidenavClose()">View profile</button>
      <button mat-menu-item (click)="onSidenavClose()">Add contact</button>
    </mat-menu> -->
</mat-nav-list>